Buy Sell Test

(admin, alice, bob, charlie)
("tz1PwgnoAyphW2iFdbnnYgwWRcNTpAaH7gVY","tz1TZpbZZZTKiJVh7ANXCLKFT3TkADzxRZWM","tz1gtKKyvwQ6u54sbVzano58mFZLqERaCgyW","tz1RLYCL2F82JxXtEGZmtLRDMD4Pe9SRYLZo")

nft storage
Pair { Pair (Pair "tz1PwgnoAyphW2iFdbnnYgwWRcNTpAaH7gVY" False) None; Pair { Elt 0 "tz1PwgnoAyphW2iFdbnnYgwWRcNTpAaH7gVY" } 1; { }; { } } { }

nft address
KT1DzFfsdA7ygqvJvm3sFnfe9qvwaVBZLoJ7

bonding curve storage
{ Pair (Pair "tz1PwgnoAyphW2iFdbnnYgwWRcNTpAaH7gVY" False) None; "KT1DzFfsdA7ygqvJvm3sFnfe9qvwaVBZLoJ7"; 100; 0; { Elt "decimals" 0x3132; Elt "name" 0x546869732069732061207465737421205b6e616d655d; Elt "symbol" 0x746573745f73796d626f6c }; 100; { LEFT mutez;
                                                                                                                                                                                                                                                     PUSH
                                                                                                                                                                                                                                                       (list mutez)
                                                                                                                                                                                                                                                       { 10; 60; 170; 340; 570; 860 };
                                                                                                                                                                                                                                                     SWAP;
                                                                                                                                                                                                                                                     LOOP_LEFT { PUSH nat 1;
                                                                                                                                                                                                                                                                 SWAP;
                                                                                                                                                                                                                                                                 SUB;
                                                                                                                                                                                                                                                                 ISNAT;
                                                                                                                                                                                                                                                                 IF_NONE { IF_CONS { RIGHT nat }
                                                                                                                                                                                                                                                                                   { PUSH string "list too short for index (by 1)";
                                                                                                                                                                                                                                                                                     FAILWITH } }
                                                                                                                                                                                                                                                                         { SWAP;
                                                                                                                                                                                                                                                                           IF_CONS { DROP;
                                                                                                                                                                                                                                                                                     SWAP;
                                                                                                                                                                                                                                                                                     LEFT mutez }
                                                                                                                                                                                                                                                                                   { PUSH string "list too short for index";
                                                                                                                                                                                                                                                                                     FAILWITH } } };
                                                                                                                                                                                                                                                     SWAP;
                                                                                                                                                                                                                                                     DROP }; 0 }

bonding curve address
KT1Aya7ggmEgRTGw44TtLsHMqfac2by8twSj

admin -> nft: update_operators
{ Left { "tz1PwgnoAyphW2iFdbnnYgwWRcNTpAaH7gVY"; "KT1Aya7ggmEgRTGw44TtLsHMqfac2by8twSj"; 0 } }

buyer -> bondingCurve: buy
buyer:
tz1TZpbZZZTKiJVh7ANXCLKFT3TkADzxRZWM
amount:
111

buyer -> bondingCurve: buy
buyer:
tz1gtKKyvwQ6u54sbVzano58mFZLqERaCgyW
amount:
161

buyer -> bondingCurve: buy
buyer:
tz1RLYCL2F82JxXtEGZmtLRDMD4Pe9SRYLZo
amount:
272

seller -> bondingCurve: sell
seller:
tz1RLYCL2F82JxXtEGZmtLRDMD4Pe9SRYLZo
parameter:
3
